# Startup applications
riverctl spawn 'systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP'
riverctl spawn 'dbus-update-activation-environment DISPLAY'
riverctl spawn 'setwall'
riverctl spawn 'sudo ~/kanata/target/release/kanata -c ~/.config/keyboard/hands.kbd'
riverctl spawn 'dust'
riverctl spawn 'wl-paste -t text --watch clipman store'
riverctl spawn "swayidle -w timeout 10 'swaylock --screenshots --clock --fade 2 --indicator --indicator-radius 200 --indicator-thickness 20 --grace 2.1 --effect-scale 0.5 --effect-pixelate 10 --effect-scale 2 --separator-color 7c818c --ring-color 404552 --key-hl-color 5294e2 --inside-color 222831 --line-uses-inside --text-color eeeeee'"
# ----

riverctl map normal Super Return spawn wezterm-gui
riverctl map normal Super Backspace close
riverctl map normal Super slash focus-view next
riverctl map normal Super F toggle-fullscreen
riverctl map normal Super O focus-output next
riverctl map normal Super+Shift O send-to-output -current-tags next

riverctl map normal Super S spawn 'wofi --show drun'
riverctl map normal Super T spawn 'wayshot --stdout | wl-copy'
riverctl map normal Super B spawn 'clipman pick --tool wofi'

# Control screen backlight brightness with light (https://github.com/haikarainen/light)
riverctl map normal None XF86AudioLowerVolume spawn 'amixer set Speaker 10%-'
riverctl map normal None XF86AudioRaiseVolume spawn 'amixer set Speaker 10%+'
riverctl map normal None XF86AudioMute spawn 'amixer set Speaker toggle'
# ----

riverctl map normal None XF86MonBrightnessUp   spawn 'light -A 5'
riverctl map normal None XF86MonBrightnessDown spawn 'light -U 5'
# ----


# Super + Left Mouse Button to move views
riverctl map-pointer normal Super BTN_LEFT move-view
# Super + Right Mouse Button to resize views
riverctl map-pointer normal Super BTN_RIGHT resize-view
# Super + Middle Mouse Button to toggle float
riverctl map-pointer normal Super BTN_MIDDLE toggle-float

# Set keyboard repeat rate
riverctl set-repeat 50 300
riverctl set-cursor-warp on-focus-change

# Make all views with an app-id that starts with "float" and title "foo" start floating.
riverctl rule-add float -app-id 'float*' -title 'foo'

# Set the default layout generator to be rivertile and start it.
# River will send the process group of the init executable SIGTERM on exit.
riverctl default-layout rivertile

riverctl map normal Super a set-focused-tags 1
riverctl map normal Super e set-focused-tags 2
riverctl map normal Super i set-focused-tags 4
riverctl map normal Super h set-focused-tags 8

riverctl map normal Super+Shift a set-view-tags 1
riverctl map normal Super+Shift e set-view-tags 2
riverctl map normal Super+Shift i set-view-tags 4
riverctl map normal Super+Shift h set-view-tags 8

# No borders
riverctl border-width 0
rivertile -view-padding 0 -outer-padding 0 &
